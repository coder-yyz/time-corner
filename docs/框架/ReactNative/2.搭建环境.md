# 快速搭建 RN 开发环境

要进行 RN 的开发，首先第一步是搭建其开发环境。

官网提供了搭建开发环境的详细步骤：https://reactnative.dev/docs/environment-setup

有两个选择：

- 如果是作为学习阶段，想要快速体验 RN 开发，那么可以直接使用简易沙盒环境

- 如果是要做完整的上线应用开发，那么可以搭建完整的原生环境

## 使用 Expo 沙盒环境搭建 RN 开发环境

> 沙盒（英语：sandbox，又译为沙箱），计算机术语，在计算机安全领域中是一种安全机制，为运行中的程序提供的隔离环境。通常是作为一些来源不可信、具破坏力或无法判定程序意图的程序提供实验之用。
> 沙盒通常严格控制其中的程序所能访问的资源，比如，沙盒可以提供用后即回收的磁盘及内存空间。在沙盒中，网络访问、对真实系统的访问、对输入设备的读取通常被禁止或是严格限制。从这个角度来说，沙盒属于虚拟化的一种。
> 沙盒中的所有改动对操作系统不会造成任何损失。通常，这种技术被计算机技术人员广泛用于测试可能带毒的程序或是其他的恶意代码。

首先第一步，需要安装 expo-cli，这是一个脚手架工具，可以快速搭建一个 RN 项目。

```js
npm install -g expo-cli
```

安装完毕后可以使用 expo -V 来查看所安装的脚手架版本

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-070951.png" alt="image-20220602150951138" style="zoom:50%;" />

接下来我们就可以快速创建一个项目，使用命令 expo init <项目名称>

![image-20220602151013904](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-071014.png)

首先会让选择项目的模板，如果不用 TypeScript 的话，一般选择第一个即可。

> 注：使用 expo-cli 拉取项目时，很多依赖需要搭梯子才能安装，请自行搞定科学上网。

创建完成

![image-20220602151034878](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-071035.png)

接下来进入到项目里面，使用 npm start 启动项目即可。

启动效果如下图所示，会有一个二维码，至此 RN 开发环境已经搭建完毕。

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-071052.png" alt="image-20220602151051871" style="zoom: 50%;" />

## 预览环境

写 PC 网页的时候，电脑上的浏览器就是预览环境，当开发移动应用的时候，预览环境是我们的真机。

在[这里](https://expo.dev/tools)根据手机系统版本下载对应的 Client 的文件，安装 expo-client。

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-071125.png" alt="image-20220602151125112" style="zoom:50%;" />

之后在手机上进行安装，安装完毕后确保手机和电脑是连接的同一个网络，打开该应用，点击 Scan QR code 进行扫码。

> 如果是苹果手机，直接使用自带的相机应用进行扫码。

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-071151.png" alt="image-20220602151150979" style="zoom:50%;" />

扫码后会进入到项目打包构建过程，之后就会显示出当前项目的效果。

<img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-06-02-071211.png" alt="image-20220602151210602" style="zoom:50%;" />
