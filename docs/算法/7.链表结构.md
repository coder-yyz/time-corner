# é“¾è¡¨ç»“æ„

é“¾è¡¨ä¹Ÿæ˜¯å­˜å‚¨å…ƒç´ çš„é›†åˆï¼Œæ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯ä¸€æ®µ **è¿ç»­** çš„ç©ºé—´ï¼Œä½†æ˜¯é“¾è¡¨åœ¨å†…å­˜ä¸­æ˜¯ **éè¿ç»­** çš„ç©ºé—´ã€‚

![image-20250218110039706](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2025-02-18-030039.png)

é“¾è¡¨æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªèŠ‚ç‚¹ç»„æˆã€‚

ğŸ™‹ï¼šé“¾è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦‚ä½•æ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ï¼Ÿ

```java
int[] arr = {1, 2, 3};
arr[2];
```

åœ¨é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹å°±ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š

1. å­˜å‚¨å…·ä½“å€¼
2. ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å†…å­˜åœ°å€

![image-20250218135510975](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2025-02-18-055511.png)

æ­£å› ä¸ºè¿™ä¸ªç‰¹å¾ï¼Œé“¾è¡¨åœ¨æŸ¥è¯¢ã€æ–°å¢ã€åˆ é™¤æ–¹é¢åˆšå¥½å’Œæ•°ç»„ç›¸åã€‚

- æ•°ç»„
    - æŸ¥æ‰¾ï¼šé€Ÿåº¦å¾ˆå¿«ï¼Œå› ä¸ºåªéœ€è¦åç§» xxx ä¸ªåœ°å€å•ä½å°±å¯ä»¥è·å–å€¼
    - æ–°å¢å’Œåˆ é™¤ï¼šå°±æ¯”è¾ƒæ…¢ï¼Œåé¢æ‰€æœ‰çš„å…ƒç´ æ¶‰åŠåˆ°åç§»æˆ–è€…å‰ç§»ã€‚

- é“¾è¡¨
    - æŸ¥æ‰¾ï¼šæ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ä»å¤´èŠ‚ç‚¹ä¸€ä¸ªä¸€ä¸ªè¿›è¡ŒæŸ¥æ‰¾
    - æ–°å¢å’Œåˆ é™¤ï¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œç›´æ¥ä¿®æ”¹èŠ‚ç‚¹çš„ next å€¼ï¼ˆå†…å­˜åœ°å€çš„æŒ‡å‘ï¼‰å°±å¯ä»¥äº†ã€‚

å¹¶ä¸”æ•°ç»„å’Œé“¾è¡¨å¯¹åº”çš„æ˜¯åœ¨å†…å­˜ä¸­çœŸå®çš„å­˜å‚¨æ•°æ®çš„ä¸¤ç§ç»“æ„æ–¹å¼ï¼ˆç‰©ç†ç»“æ„ï¼‰ã€‚

**é“¾è¡¨å¸¸è§çš„å½¢å¼**

1. å•å‘é“¾è¡¨ï¼šæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€
2. åŒå‘é“¾è¡¨ï¼šæ¯ä¸ªèŠ‚ç‚¹ä¼šåŒ…å«ä¸Šä¸€ä¸ªèŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€

## å•å‘é“¾è¡¨

å•å‘é“¾è¡¨ï¼ˆSingly Linked Listï¼‰æ¯ä¸ªå…ƒç´ éƒ½åŒ…å« **ä¸¤ä¸ªéƒ¨åˆ†**ï¼š**æ•°æ®éƒ¨åˆ†** å’Œ **æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ**ï¼ˆé€šå¸¸ç§°ä¸º`next`
ï¼‰ã€‚é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«æ•°æ®å¹¶ä¸”æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·å½¢æˆäº†ä¸€ä¸ªé“¾å¼çš„ç»“æ„ï¼Œæ–¹ä¾¿åœ¨ä»»æ„ä½ç½®è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚

**å•å‘é“¾è¡¨çš„ç‰¹ç‚¹**

1. çº¿æ€§ç»“æ„ï¼šæ•°æ®å…ƒç´ æ˜¯çº¿æ€§æ’åˆ—çš„ï¼Œä½†ä¸æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œé“¾è¡¨çš„å…ƒç´ å¹¶ä¸ä¸€å®šåœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ã€‚
2. åŠ¨æ€å¤§å°ï¼šé“¾è¡¨çš„å¤§å°åœ¨è¿è¡Œæ—¶å¯ä»¥åŠ¨æ€å˜åŒ–ï¼Œå…ƒç´ çš„æ’å…¥å’Œåˆ é™¤ä¸ä¼šåƒæ•°ç»„ä¸€æ ·é€ æˆå†…å­˜çš„é‡æ–°åˆ†é…ã€‚
3. æ’å…¥å’Œåˆ é™¤é«˜æ•ˆï¼šåœ¨å·²çŸ¥èŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œæ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(1)`ï¼Œä½†å¦‚æœè¦è®¿é—®æŸä¸ªèŠ‚ç‚¹æ—¶ï¼Œéœ€è¦éå†é“¾è¡¨ã€‚

```js
// é¦–å…ˆéœ€è¦ä¸€ä¸ªèŠ‚ç‚¹
class Node {
    // æ¥æ”¶è¯¥èŠ‚ç‚¹è¦å­˜å‚¨çš„æ•°æ®
    constructor(data) {
        this.data = data; // å½“å‰èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®
        this.next = null; // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€
    }
}

// å•å‘é“¾è¡¨ç±»
class LinkedList {
    constructor() {
        this.head = null; // é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        this.size = 0; // é“¾è¡¨çš„é•¿åº¦
    }

    // æ‰“å°é“¾è¡¨æ•°æ®
    print() {
        // æ— å¤–ä¹å°±æ˜¯éå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œé€šè¿‡ next å°±å¯ä»¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        let current = this.head; // ä¸€å¼€å§‹ä»å¤´èŠ‚ç‚¹å¼€å§‹
        let result = []; // å­˜æ”¾æ‰€æœ‰èŠ‚ç‚¹çš„å€¼
        while (current) {
            result.push(current.data);
            current = current.next;
        }
        // å‡ºäº† while ä¹‹åï¼Œè¯´æ˜éå†èŠ‚ç‚¹ç»“æŸ
        console.log(result.join(" -> ") + " -> null");
    }
}

module.exports = {
    Node, LinkedList
}
```

```js
const {Node, LinkedList} = require('./LinkedList.js');
const ll = new LinkedList(); // æ‹¿åˆ°ä¸€ä¸ªé“¾è¡¨çš„å®ä¾‹å¯¹è±¡
// æœ‰3ä¸ªèŠ‚ç‚¹
const n1 = new Node(1);
const n2 = new Node(2);
const n3 = new Node(3);
n1.next = n2;
n2.next = n3;
ll.head = n1;
```

**é“¾è¡¨çš„æ–°å¢**

1. æ–°å¢èŠ‚ç‚¹åˆ°æœ€å

```js
// æ–°å¢ä¸€ä¸ªæŒ‡å®šæ•°æ®çš„èŠ‚ç‚¹
// æ”¾åˆ°å½“å‰é“¾è¡¨çš„æœ€å
add(data)
{
    // é¦–å…ˆéœ€è¦ç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹
    const newNode = new Node(data);
    // éœ€è¦åˆ¤æ–­æ–°å¢çš„è¿™ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯å¤´èŠ‚ç‚¹
    if (!this.head) {
        // å¦‚æœè¿›å…¥æ­¤åˆ†æ”¯ï¼Œè¯´æ˜å½“å‰çš„å•å‘é“¾è¡¨æ˜¯ç©ºçš„
        // å½“å‰è¿™ä¸ªèŠ‚ç‚¹åº”è¯¥æ˜¯å¤´èŠ‚ç‚¹
        this.head = newNode;
    } else {
        // è¯´æ˜å½“å‰çš„å•å‘é“¾è¡¨ä¸æ˜¯ç©ºçš„
        // å°†èŠ‚ç‚¹æ·»åŠ åˆ°æœ€å
        let current = this.head;
        while (current.next) {
            current = current.next;
        }
        // é€€å‡ºä¸Šé¢ while å¾ªç¯çš„æ—¶å€™ï¼Œcurrent æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹
        current.next = newNode;
    }
    this.size++;
}
```

2. æ–°å¢èŠ‚ç‚¹æ”¾åˆ°æŒ‡å®šçš„ä½ç½®

```js
// æ¥æ”¶ä¸¤ä¸ªå‚æ•°
// 1. æ•°æ®
// 2. æ·»åŠ åˆ°å“ªä¸ªä½ç½®
addAt(data, index)
{
    // å®‰å…¨æ€§å¤„ç†
    if (index < 0 || index > this.size) {
        throw new Error("ç´¢å¼•å€¼æ— æ•ˆ");
    }

    const newNode = new Node(data);// æ–°åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹
    let current = this.head; // ä¸€å¼€å§‹ current æŒ‡å‘å¤´èŠ‚ç‚¹
    let counter = 0; // è®¡æ•°å™¨ï¼Œå¯¹é“¾è¡¨èŠ‚ç‚¹è¿›è¡Œè®¡æ•°ï¼Œç±»ä¼¼äºæ•°ç»„çš„ä¸‹æ ‡

    // ä¸‹é¢å°±æ˜¯æ’å…¥çš„æ“ä½œã€‚æ’å…¥ä»ç„¶æ˜¯åˆ†ä¸ºæ˜¯å¦æ˜¯å¤´èŠ‚ç‚¹ä½ç½®
    if (index === 0) {
        // åœ¨å¤´éƒ¨æ’å…¥
        // æ’å…¥çš„æ–°èŠ‚ç‚¹ä¼šæˆä¸ºæ–°çš„å¤´èŠ‚ç‚¹
        newNode.next = this.head;
        this.head = newNode; // æ›´æ–°å¤´èŠ‚ç‚¹çš„å€¼
    } else {
        // é“¾è¡¨åé¢éƒ¨åˆ†æ’å…¥ï¼Œéœ€è¦éå†åˆ°æŒ‡å®šçš„ä½ç½®
        while (current) {
            if (counter === index - 1) {
                // åšæ’å…¥æ“ä½œ
                newNode.next = current.next;
                current.next = newNode;
                break;
            }
            current = current.next;
            counter++;
        }
    }
    this.size++;
}
```

**é“¾è¡¨çš„åˆ é™¤**

1. åˆ é™¤æŒ‡å®šæ•°æ®çš„èŠ‚ç‚¹

   ```js
   // æ¥æ”¶1ä¸ªå‚æ•°
   // è¦åˆ é™¤çš„èŠ‚ç‚¹å¯¹åº”æ•°æ®æ˜¯ä»€ä¹ˆ
   remove(data){
     let current = this.head; // ä¸€å¼€å§‹æŒ‡å‘å¤´èŠ‚ç‚¹
     let previous = null; // æš‚å­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹
     
     while(current !== null){
       if(current.data === data){
         // è¯´æ˜å½“å‰çš„è¿™ä¸ª current æ‰€å¯¹åº”çš„èŠ‚ç‚¹æ˜¯è¦åˆ é™¤çš„èŠ‚ç‚¹
         if(previous === null){
           // è¯´æ˜åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹
           this.head = current.next;
         } else {
           // ä¸æ˜¯å¤´èŠ‚ç‚¹
           previous.next = current.next;
         }
         this.size--;
         return current.data;
       }
       previous = current; // å…ˆæš‚å­˜è¯¥èŠ‚ç‚¹
       current = current.next; // è·³å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
     }
   }
   ```


2. åˆ é™¤æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹

   ```js
   // æ¥æ”¶1ä¸ªå‚æ•°ï¼ŒæŒ‡å®šçš„ä½ç½®
   removeAt(index){
     if(index < 0 || index >= this.size){
       throw new Error("ç´¢å¼•å€¼æ— æ•ˆ");
     }
     let current = this.head; // ä¸€å¼€å§‹æŒ‡å‘å¤´èŠ‚ç‚¹
     let previous = null; // æš‚å­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹
     if(index === 0){
       // è¯´æ˜è¦åˆ é™¤çš„æ˜¯å¤´èŠ‚ç‚¹
       this.head = current.next;
     } else {
       // è¯´æ˜ä¸æ˜¯å¤´èŠ‚ç‚¹ï¼Œéœ€è¦éå†åˆ°æŒ‡å®šçš„ä½ç½®
       for(let i = 0; i < index; i++){
         previous = current;
         current = current.next;
       }
       // è·³å‡º for å¾ªç¯çš„æ—¶å€™ï¼Œcurrent æ˜¯å½“å‰è¦åˆ é™¤çš„è¿™ä¸ªèŠ‚ç‚¹
       // previous æ˜¯å½“å‰è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
       previous.next = current.next;
     }
     this.size--;
     return current.data;
   }
   ```

**é“¾è¡¨çš„åè½¬**

```js
reverse()
{
    if (!this.head) return; // å¦‚æœæ˜¯ç©ºé“¾è¡¨ï¼Œç›´æ¥è¿”å›

    // æ²¡æœ‰è¿›å…¥ä¸Šé¢çš„ ifï¼Œè¯´æ˜é“¾è¡¨æœ‰ä¸œè¥¿ï¼Œè¿›è¡Œåè½¬æ“ä½œ
    let current = this.head;
    let previous = null; // ä¿å­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹
    let next = null; // ä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹

    while (current !== null) {
        // è¿›è¡Œåè½¬æ“ä½œ
        next = current.next; // å°†å½“å‰èŠ‚ç‚¹åŸæœ¬çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æš‚å­˜
        current.next = previous;
        previous = current;
        current = next;
    }

    // é‡ç½®å¤´èŠ‚ç‚¹
    this.head = previous;
}
```

```
1 --> 2 --> 3
3 --> 2 --> 1 --> null
current: null
previous: 3
next: null
this.head = 3
```

**é“¾è¡¨çš„ç½®æ¢**

äº¤æ¢é“¾è¡¨é‡Œé¢çš„ä¸¤ä¸ªèŠ‚ç‚¹

```js
// æ¥æ”¶å‚æ•°
// è¦äº¤æ¢çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„ä¸‹æ ‡ï¼Œä¸‹æ ‡æ˜¯ä» 0 å¼€å§‹
swap(index1, index2)
{
    if (index1 === index2) return false; // å¦‚æœç´¢å¼•ç›¸ç­‰ï¼Œä¸éœ€è¦äº¤æ¢
    if (index1 < 0 || index1 >= this.size || index2 < 0 || index2 >= this.size) {
        throw new Error("ç´¢å¼•æ— æ•ˆ");
    }

    // ä»£ç èµ°åˆ°è¿™ä¸€æ­¥ï¼Œè¯´æ˜ç´¢å¼•æ˜¯æ²¡æœ‰é—®é¢˜çš„
    // å¼€å§‹è¿›è¡Œäº¤æ¢
    let current = this.head; // ä¸€å¼€å§‹æŒ‡å‘å¤´èŠ‚ç‚¹
    let counter = 0; // è®¡æ•°å™¨ï¼Œé å®ƒæ‰¾åˆ°å¯¹åº”ä¸‹æ ‡çš„èŠ‚ç‚¹
    let node1 = null; // å­˜å‚¨index1å¯¹åº”çš„èŠ‚ç‚¹
    let node2 = null; // å­˜å‚¨ index2 å¯¹åº”çš„èŠ‚ç‚¹

    // è¿™ä¸ªwhileå¾ªç¯ä¸»è¦æ˜¯å¯»æ‰¾èŠ‚ç‚¹
    while (current !== null) {
        if (counter === index1) node1 = current;
        if (counter === index2) node2 = current;
        if (node1 && node2) break; // ä¸¤ä¸ªèŠ‚ç‚¹éƒ½æ‰¾åˆ°äº†ï¼Œå°±é€€å‡º
        current = current.next;
        counter++;
    }

    if (node1 && node2) {
        // äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹çš„æ•°æ®
        let temp = node1.data;
        node1.data = node2.data;
        node2.data = temp;
        return true;
    }

    return false;
}
```

## å•å‘å¾ªç¯é“¾è¡¨

å•å‘å¾ªç¯é“¾è¡¨æ˜¯ç”±å•é“¾è¡¨è¿›åŒ–è€Œæ¥çš„ï¼Œç®—æ˜¯å•é“¾è¡¨çš„â€œå„¿å­â€æˆ–è€…ç§°ä¹‹ä¸ºåˆ†æ”¯ï¼Œæ‰€ä»¥å•é“¾è¡¨çš„é‚£ä¸€å¥—ç»“æ„å¯¹äºå•å‘å¾ªç¯é“¾è¡¨æ¥è¯´å®Œå…¨é€‚ç”¨ï¼Œç»“æ„å¹¶æ— è¾ƒå¤§æ”¹å˜ã€‚
**äºŒè€…æ‰€ä¸åŒçš„åœ°æ–¹åªæ˜¯åœ¨å°¾ç»“ç‚¹**ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨å°¾ç»“ç‚¹å’Œä¸å°¾ç»“ç‚¹ç›¸å…³çš„æ“ä½œä¸Šä¸‹åŠŸå¤«å°±è¡Œäº†ã€‚

![image-20250227141718843](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2025-02-27-061719.png)

**éœ€è¦é‡æ„çš„æ–¹æ³•**

1. addæ–¹æ³•

   ```js
   // æ–°å¢ä¸€ä¸ªæŒ‡å®šæ•°æ®çš„èŠ‚ç‚¹
   // æ”¾åˆ°å½“å‰é“¾è¡¨çš„æœ€å
   add(data) {
     // é¦–å…ˆéœ€è¦ç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹
     const newNode = new Node(data);
     // éœ€è¦åˆ¤æ–­æ–°å¢çš„è¿™ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯å¤´èŠ‚ç‚¹
     if (!this.head) {
       // å¦‚æœè¿›å…¥æ­¤åˆ†æ”¯ï¼Œè¯´æ˜å½“å‰çš„å•å‘é“¾è¡¨æ˜¯ç©ºçš„
       // å½“å‰è¿™ä¸ªèŠ‚ç‚¹åº”è¯¥æ˜¯å¤´èŠ‚ç‚¹
       this.head = newNode;
       // è¿™é‡Œè¿˜éœ€è¦ä¸€ä¸ªæ“ä½œï¼Œæ–°å¢çš„è¿™ä¸ªèŠ‚ç‚¹ä¼šå˜æˆå°¾èŠ‚ç‚¹ï¼Œè¿™ä¸ªå°¾èŠ‚ç‚¹éœ€è¦æŒ‡å‘å¤´éƒ¨
       newNode.next = this.head;
     } else {
       // è¯´æ˜å½“å‰çš„å•å‘é“¾è¡¨ä¸æ˜¯ç©ºçš„
       // å°†èŠ‚ç‚¹æ·»åŠ åˆ°æœ€å
       let current = this.head;
       while (current.next !== this.head) {
         current = current.next;
       }
       // é€€å‡ºä¸Šé¢ while å¾ªç¯çš„æ—¶å€™ï¼Œcurrent æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹
       current.next = newNode;
       newNode.next = this.head;
     }
     this.size++;
   }
   ```

2. printæ–¹æ³•

   ```js
   // æ‰“å°é“¾è¡¨æ•°æ®
   print() {
     // æ— å¤–ä¹å°±æ˜¯éå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œé€šè¿‡ next å°±å¯ä»¥æ‰¾åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
     let current = this.head; // ä¸€å¼€å§‹ä»å¤´èŠ‚ç‚¹å¼€å§‹
    	let result = ""; // å­˜å‚¨æ•´ä¸ªé“¾è¡¨æ‹¼æ¥å‡ºæ¥çš„ç»“æœ
     if(this.head){
       do{
         result += `${current.data} -> `;
         current = current.next;
       }while(current !== this.head)
     }
     result += "null";
     console.log(result);
   }
   ```

3. addAtæ–¹æ³•

   ```js
   addAt(data, index){
       // å®‰å…¨æ€§å¤„ç†
       if (index < 0 || index > this.size) {
         throw new Error("ç´¢å¼•å€¼æ— æ•ˆ");
       }
     
     	const newNode = new Node(data);
     	
     	if(!this.head){
         // è¯´æ˜æ˜¯ç©ºé“¾è¡¨
         newNode.next = newNode; // å½¢æˆå¾ªç¯
         this.head = newNode;
       } else if(index === 0){
         // åœ¨å¤´éƒ¨æ’å…¥ï¼Œè€Œä¸”é“¾è¡¨ä¸ä¸ºç©º
         // éœ€è¦æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è®©æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰çš„æ–°èŠ‚ç‚¹ï¼ˆå› ä¸ºæ–°èŠ‚ç‚¹æˆä¸ºäº†æ–°çš„å¤´éƒ¨ï¼‰
         let last = this.head;
         // æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹
         while(last.next !== this.head){
           last = last.next;
         }
         newNode.next = this.head;
         this.head = newNode;
         last.next = this.head;
       } else {
         // åœ¨é“¾è¡¨çš„ä¸­é—´æˆ–è€…å°¾éƒ¨æ’å…¥
         let current = this.head;
         let counter = 0; // è®¡æ•°å™¨
         while(counter < index - 1){
           current = current.next;
           counter++;
         }
         // å‡ºäº†whileå¾ªç¯ä¹‹åï¼Œè¯´æ˜æ‰¾åˆ°äº†æ’å…¥çš„ä½ç½®
         newNode.next = current.next;
         current.next = newNode;
       }
     	this.size++;
   }
   ```

4. removeæ–¹æ³•

   ```js
   remove(data){
     // é“¾è¡¨ä¸ºç©ºå°±è¿”å› null
     if(!this.head) return null;
     
     let current = this.head;
     let previous = null;
     
     do{
       if(current.data === data){
         // è¯´æ˜æ‰¾åˆ°äº†è¦åˆ é™¤çš„èŠ‚ç‚¹
         // åœ¨åˆ é™¤çš„æ—¶å€™åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œçœ‹åˆ é™¤çš„èŠ‚ç‚¹æ˜¯ä¸æ˜¯å¤´èŠ‚ç‚¹
         if(previous === null){
           // è¯´æ˜å½“å‰è¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹
           // è¿™é‡Œåˆè¦åˆ†æˆä¸¤ç§æƒ…å†µ
           // 1. åªæœ‰ä¸€ä¸ªå¤´èŠ‚ç‚¹
           // 2. è¶…è¿‡ä¸€ä¸ªèŠ‚ç‚¹
           if(current.next === this.head){
             // è¯´æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹
             this.head = null;
           } else {
             // è¯´æ˜ä¸æ­¢ä¸€ä¸ªèŠ‚ç‚¹
             // æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®©å®ƒæŒ‡å‘å½“å‰è¦åˆ é™¤çš„èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
             let last = this.head;
             while(last.next !== this.head){
               last = last.next;
             }
             this.head = current.next;
             last.next = this.head;
           }
         } else {
           // è¯´æ˜å½“å‰è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯å¤´èŠ‚ç‚¹
           previous.next = current.next;
         }
         this.size--;
         return current.data;
       } 
       // ç»§ç»­å¾€ä¸‹æ‰¾
       previous = current;
       current = current.next;
     } while(current !== this.head);
   }
   ```

5. removeAtæ–¹æ³•

   ```js
   removeAt(index){
        if (index < 0 || index >= this.size) {
           throw new Error("ç´¢å¼•å€¼æ— æ•ˆ");
        }
     
     	if(!this.head) return null;
     
     	let current = this.head; // ä»å¤´èŠ‚ç‚¹å‡ºå‘ï¼Œå¯»æ‰¾è¦åˆ é™¤çš„èŠ‚ç‚¹
     	let previous = null; // æš‚å­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹
     
     	if(index === 0){
         // è¯´æ˜è¦åˆ é™¤çš„æ˜¯å¤´èŠ‚ç‚¹
         // éœ€è¦åˆ¤æ–­æ˜¯å¦åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹
         if(current.next === this.head){
           this.head = null;
         } else {
           let last = this.head;
           // å¯»æ‰¾æœ€åä¸€ä¸ªèŠ‚ç‚¹
           while(last.next !== this.head){
             last = last.next;
           }
           this.head = current.next; // ä¹‹å‰å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªæˆä¸ºæ–°çš„å¤´
           last.next = this.head;
         }
       } else {
         // åˆ é™¤çš„ä¸æ˜¯å¤´èŠ‚ç‚¹
         
         // è¿™ä¸ª for æ˜¯åœ¨éå†åˆ°æŒ‡å®šçš„åˆ é™¤ä½ç½®
         for(let i = 0; i < index; i++){
           previous = current;
           current = current.next;
         }
         
         previous.next = null;
         previous.next = current.next;
         current.next = null;
       }
     
     	this.size--;
     	return current.data;
   }
   ```

6. reverseæ–¹æ³•

   ```js
   reverse(){
     // å¦‚æœé“¾è¡¨ä¸ºç©ºï¼Œæˆ–è€…é“¾è¡¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåè½¬å¹¶æ— æ„ä¹‰
     if(!this.head || this.head.next === this.head) return;
     
     let current = this.head;
     let previous = null; // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
     let next = null; // è®°å½•åä¸€ä¸ªèŠ‚ç‚¹
     
     do{
       // è¿›è¡Œåè½¬æ“ä½œ
       next = current.next; // å°†å½“å‰èŠ‚ç‚¹åŸæœ¬çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æš‚å­˜
       current.next = previous;
       previous = current;
       current = next;
     }while(current !== this.head);
     
     // this.headæ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œpreviousæ˜¯å¤´èŠ‚ç‚¹
     // å› ä¸ºæ˜¯å¾ªç¯é“¾è¡¨ï¼Œéœ€è¦è®©æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å¤´èŠ‚ç‚¹
     this.head.next = previous;
     this.head = previous; // é‡ç½®å¤´èŠ‚ç‚¹çš„å€¼
   }
   ```


7. swapæ–¹æ³•

   ```js
   // æ¥æ”¶å‚æ•°
   // è¦äº¤æ¢çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„ä¸‹æ ‡ï¼Œä¸‹æ ‡æ˜¯ä» 0 å¼€å§‹
   swap(index1, index2) {
     if (index1 === index2) return false; // å¦‚æœç´¢å¼•ç›¸ç­‰ï¼Œä¸éœ€è¦äº¤æ¢
     if (
       index1 < 0 ||
       index1 >= this.size ||
       index2 < 0 ||
       index2 >= this.size
     ) {
       throw new Error("ç´¢å¼•æ— æ•ˆ");
     }
   
     // ä»£ç èµ°åˆ°è¿™ä¸€æ­¥ï¼Œè¯´æ˜ç´¢å¼•æ˜¯æ²¡æœ‰é—®é¢˜çš„
     // å¼€å§‹è¿›è¡Œäº¤æ¢
     let current = this.head; // ä¸€å¼€å§‹æŒ‡å‘å¤´èŠ‚ç‚¹
     let counter = 0; // è®¡æ•°å™¨ï¼Œé å®ƒæ‰¾åˆ°å¯¹åº”ä¸‹æ ‡çš„èŠ‚ç‚¹
     let node1 = null; // å­˜å‚¨index1å¯¹åº”çš„èŠ‚ç‚¹
     let node2 = null; // å­˜å‚¨ index2 å¯¹åº”çš„èŠ‚ç‚¹
   
     // è¿™ä¸ªwhileå¾ªç¯ä¸»è¦æ˜¯å¯»æ‰¾èŠ‚ç‚¹
     do {
       if (counter === index1) node1 = current;
       if (counter === index2) node2 = current;
       if (node1 && node2) break; // ä¸¤ä¸ªèŠ‚ç‚¹éƒ½æ‰¾åˆ°äº†ï¼Œå°±é€€å‡º
       current = current.next;
       counter++;
     } while (current !== this.head);
   
     if (node1 && node2) {
       // äº¤æ¢ä¸¤ä¸ªèŠ‚ç‚¹çš„æ•°æ®
       let temp = node1.data;
       node1.data = node2.data;
       node2.data = temp;
       return true;
     }
   
     return false;
   }
   ```

