<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM 事件的传播机制 | Time Corner</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="前端学习笔记">
    
    <link rel="preload" href="/time-corner/assets/css/0.styles.0e7cd4b9.css" as="style"><link rel="preload" href="/time-corner/assets/js/app.781301b2.js" as="script"><link rel="preload" href="/time-corner/assets/js/7.ebedf390.js" as="script"><link rel="preload" href="/time-corner/assets/js/2.822065f6.js" as="script"><link rel="preload" href="/time-corner/assets/js/1.21d801e1.js" as="script"><link rel="preload" href="/time-corner/assets/js/46.af198b0c.js" as="script"><link rel="prefetch" href="/time-corner/assets/js/10.a3fa3a97.js"><link rel="prefetch" href="/time-corner/assets/js/100.a399a42f.js"><link rel="prefetch" href="/time-corner/assets/js/101.1cb69114.js"><link rel="prefetch" href="/time-corner/assets/js/102.0f00cfeb.js"><link rel="prefetch" href="/time-corner/assets/js/103.dbb76946.js"><link rel="prefetch" href="/time-corner/assets/js/104.7f639a96.js"><link rel="prefetch" href="/time-corner/assets/js/105.21a8f12a.js"><link rel="prefetch" href="/time-corner/assets/js/106.449b1328.js"><link rel="prefetch" href="/time-corner/assets/js/107.de533d94.js"><link rel="prefetch" href="/time-corner/assets/js/108.55ecf2ae.js"><link rel="prefetch" href="/time-corner/assets/js/109.7afcd93e.js"><link rel="prefetch" href="/time-corner/assets/js/11.3d15afff.js"><link rel="prefetch" href="/time-corner/assets/js/110.226b2e7f.js"><link rel="prefetch" href="/time-corner/assets/js/111.803692a5.js"><link rel="prefetch" href="/time-corner/assets/js/112.b9fb0c57.js"><link rel="prefetch" href="/time-corner/assets/js/113.2f82c43e.js"><link rel="prefetch" href="/time-corner/assets/js/114.f37ee132.js"><link rel="prefetch" href="/time-corner/assets/js/115.b4bac919.js"><link rel="prefetch" href="/time-corner/assets/js/116.3b7407bd.js"><link rel="prefetch" href="/time-corner/assets/js/117.08f35eab.js"><link rel="prefetch" href="/time-corner/assets/js/118.bd663ebc.js"><link rel="prefetch" href="/time-corner/assets/js/119.5441946c.js"><link rel="prefetch" href="/time-corner/assets/js/120.4e6c9d79.js"><link rel="prefetch" href="/time-corner/assets/js/121.920bddd3.js"><link rel="prefetch" href="/time-corner/assets/js/122.157a0422.js"><link rel="prefetch" href="/time-corner/assets/js/123.ddb9ca31.js"><link rel="prefetch" href="/time-corner/assets/js/124.662011b6.js"><link rel="prefetch" href="/time-corner/assets/js/125.96d8e6c7.js"><link rel="prefetch" href="/time-corner/assets/js/126.930af86e.js"><link rel="prefetch" href="/time-corner/assets/js/127.bee2f917.js"><link rel="prefetch" href="/time-corner/assets/js/128.f5d00e6a.js"><link rel="prefetch" href="/time-corner/assets/js/129.9c076f70.js"><link rel="prefetch" href="/time-corner/assets/js/130.4edbfa38.js"><link rel="prefetch" href="/time-corner/assets/js/131.4821a17d.js"><link rel="prefetch" href="/time-corner/assets/js/132.1fa54d7f.js"><link rel="prefetch" href="/time-corner/assets/js/133.2edc3340.js"><link rel="prefetch" href="/time-corner/assets/js/134.8393ef1b.js"><link rel="prefetch" href="/time-corner/assets/js/135.d560d87f.js"><link rel="prefetch" href="/time-corner/assets/js/136.a77fa348.js"><link rel="prefetch" href="/time-corner/assets/js/137.6a8e1f92.js"><link rel="prefetch" href="/time-corner/assets/js/138.5c78a008.js"><link rel="prefetch" href="/time-corner/assets/js/139.acd03a56.js"><link rel="prefetch" href="/time-corner/assets/js/14.021411b2.js"><link rel="prefetch" href="/time-corner/assets/js/140.d3a4ae3f.js"><link rel="prefetch" href="/time-corner/assets/js/141.8ff811ff.js"><link rel="prefetch" href="/time-corner/assets/js/142.b138e157.js"><link rel="prefetch" href="/time-corner/assets/js/143.d5f37187.js"><link rel="prefetch" href="/time-corner/assets/js/144.0dd8981a.js"><link rel="prefetch" href="/time-corner/assets/js/145.16b43941.js"><link rel="prefetch" href="/time-corner/assets/js/146.bd00c835.js"><link rel="prefetch" href="/time-corner/assets/js/147.3642d913.js"><link rel="prefetch" href="/time-corner/assets/js/148.40173d57.js"><link rel="prefetch" href="/time-corner/assets/js/149.8e2cfeb0.js"><link rel="prefetch" href="/time-corner/assets/js/15.0b209afb.js"><link rel="prefetch" href="/time-corner/assets/js/150.d8f2cb9b.js"><link rel="prefetch" href="/time-corner/assets/js/151.2258f9a2.js"><link rel="prefetch" href="/time-corner/assets/js/152.8bb92f6f.js"><link rel="prefetch" href="/time-corner/assets/js/153.754b0ea6.js"><link rel="prefetch" href="/time-corner/assets/js/154.5ff77ae5.js"><link rel="prefetch" href="/time-corner/assets/js/155.37e9df98.js"><link rel="prefetch" href="/time-corner/assets/js/156.ab97f612.js"><link rel="prefetch" href="/time-corner/assets/js/157.5db1dfb5.js"><link rel="prefetch" href="/time-corner/assets/js/158.0e080191.js"><link rel="prefetch" href="/time-corner/assets/js/159.2845b431.js"><link rel="prefetch" href="/time-corner/assets/js/16.b5ea9db9.js"><link rel="prefetch" href="/time-corner/assets/js/160.e05b16f3.js"><link rel="prefetch" href="/time-corner/assets/js/161.ebe5200a.js"><link rel="prefetch" href="/time-corner/assets/js/17.91549055.js"><link rel="prefetch" href="/time-corner/assets/js/18.0c9de5b7.js"><link rel="prefetch" href="/time-corner/assets/js/19.0fad9449.js"><link rel="prefetch" href="/time-corner/assets/js/20.0a021a1e.js"><link rel="prefetch" href="/time-corner/assets/js/21.3481e719.js"><link rel="prefetch" href="/time-corner/assets/js/22.e096f056.js"><link rel="prefetch" href="/time-corner/assets/js/23.aeac4782.js"><link rel="prefetch" href="/time-corner/assets/js/24.f1aad82a.js"><link rel="prefetch" href="/time-corner/assets/js/25.c85a59ca.js"><link rel="prefetch" href="/time-corner/assets/js/26.9b822c9c.js"><link rel="prefetch" href="/time-corner/assets/js/27.6c762b10.js"><link rel="prefetch" href="/time-corner/assets/js/28.0d3ba8b2.js"><link rel="prefetch" href="/time-corner/assets/js/29.ad36b670.js"><link rel="prefetch" href="/time-corner/assets/js/3.a1f09055.js"><link rel="prefetch" href="/time-corner/assets/js/30.3cb17208.js"><link rel="prefetch" href="/time-corner/assets/js/31.856c3ef6.js"><link rel="prefetch" href="/time-corner/assets/js/32.0acd2297.js"><link rel="prefetch" href="/time-corner/assets/js/33.66e59e50.js"><link rel="prefetch" href="/time-corner/assets/js/34.69cb874a.js"><link rel="prefetch" href="/time-corner/assets/js/35.c041c016.js"><link rel="prefetch" href="/time-corner/assets/js/36.a5c59916.js"><link rel="prefetch" href="/time-corner/assets/js/37.f27502ca.js"><link rel="prefetch" href="/time-corner/assets/js/38.c3790b1e.js"><link rel="prefetch" href="/time-corner/assets/js/39.f32260b2.js"><link rel="prefetch" href="/time-corner/assets/js/4.bc7a8dcf.js"><link rel="prefetch" href="/time-corner/assets/js/40.2a6c1b8d.js"><link rel="prefetch" href="/time-corner/assets/js/41.3e4cb8de.js"><link rel="prefetch" href="/time-corner/assets/js/42.8efa7166.js"><link rel="prefetch" href="/time-corner/assets/js/43.eb3ec12d.js"><link rel="prefetch" href="/time-corner/assets/js/44.10cf4a88.js"><link rel="prefetch" href="/time-corner/assets/js/45.6965c33d.js"><link rel="prefetch" href="/time-corner/assets/js/47.7c261d50.js"><link rel="prefetch" href="/time-corner/assets/js/48.bb382475.js"><link rel="prefetch" href="/time-corner/assets/js/49.59a0d8c4.js"><link rel="prefetch" href="/time-corner/assets/js/5.51e35da7.js"><link rel="prefetch" href="/time-corner/assets/js/50.4531775f.js"><link rel="prefetch" href="/time-corner/assets/js/51.0c759e8d.js"><link rel="prefetch" href="/time-corner/assets/js/52.bc88cdc0.js"><link rel="prefetch" href="/time-corner/assets/js/53.6b559fb0.js"><link rel="prefetch" href="/time-corner/assets/js/54.6529308b.js"><link rel="prefetch" href="/time-corner/assets/js/55.b0e5816a.js"><link rel="prefetch" href="/time-corner/assets/js/56.135a7c18.js"><link rel="prefetch" href="/time-corner/assets/js/57.2f629675.js"><link rel="prefetch" href="/time-corner/assets/js/58.cba5a1a8.js"><link rel="prefetch" href="/time-corner/assets/js/59.9a751198.js"><link rel="prefetch" href="/time-corner/assets/js/6.3194055e.js"><link rel="prefetch" href="/time-corner/assets/js/60.a5e97cee.js"><link rel="prefetch" href="/time-corner/assets/js/61.5313f531.js"><link rel="prefetch" href="/time-corner/assets/js/62.7500681e.js"><link rel="prefetch" href="/time-corner/assets/js/63.c05646fb.js"><link rel="prefetch" href="/time-corner/assets/js/64.21b12761.js"><link rel="prefetch" href="/time-corner/assets/js/65.24b0178e.js"><link rel="prefetch" href="/time-corner/assets/js/66.b93cf9f2.js"><link rel="prefetch" href="/time-corner/assets/js/67.87ca6d6b.js"><link rel="prefetch" href="/time-corner/assets/js/68.79466308.js"><link rel="prefetch" href="/time-corner/assets/js/69.115cefef.js"><link rel="prefetch" href="/time-corner/assets/js/70.edc34c80.js"><link rel="prefetch" href="/time-corner/assets/js/71.9c0ee589.js"><link rel="prefetch" href="/time-corner/assets/js/72.abbe34f6.js"><link rel="prefetch" href="/time-corner/assets/js/73.577198d5.js"><link rel="prefetch" href="/time-corner/assets/js/74.a6260aa0.js"><link rel="prefetch" href="/time-corner/assets/js/75.b604e8f9.js"><link rel="prefetch" href="/time-corner/assets/js/76.cba18775.js"><link rel="prefetch" href="/time-corner/assets/js/77.6dc7dab4.js"><link rel="prefetch" href="/time-corner/assets/js/78.7af0f910.js"><link rel="prefetch" href="/time-corner/assets/js/79.42afa880.js"><link rel="prefetch" href="/time-corner/assets/js/8.7a658dfb.js"><link rel="prefetch" href="/time-corner/assets/js/80.c5fbef7e.js"><link rel="prefetch" href="/time-corner/assets/js/81.906cd6ac.js"><link rel="prefetch" href="/time-corner/assets/js/82.a3f838fb.js"><link rel="prefetch" href="/time-corner/assets/js/83.6981ce20.js"><link rel="prefetch" href="/time-corner/assets/js/84.9f1cc6d8.js"><link rel="prefetch" href="/time-corner/assets/js/85.8500f203.js"><link rel="prefetch" href="/time-corner/assets/js/86.4d04afcd.js"><link rel="prefetch" href="/time-corner/assets/js/87.aea01399.js"><link rel="prefetch" href="/time-corner/assets/js/88.b0ef8e2b.js"><link rel="prefetch" href="/time-corner/assets/js/89.83607d5e.js"><link rel="prefetch" href="/time-corner/assets/js/9.679850f0.js"><link rel="prefetch" href="/time-corner/assets/js/90.a74034d3.js"><link rel="prefetch" href="/time-corner/assets/js/91.b0a8c915.js"><link rel="prefetch" href="/time-corner/assets/js/92.18f30ecb.js"><link rel="prefetch" href="/time-corner/assets/js/93.ac5e296c.js"><link rel="prefetch" href="/time-corner/assets/js/94.5e718fa6.js"><link rel="prefetch" href="/time-corner/assets/js/95.a46e4570.js"><link rel="prefetch" href="/time-corner/assets/js/96.e0997d5c.js"><link rel="prefetch" href="/time-corner/assets/js/97.f66695d5.js"><link rel="prefetch" href="/time-corner/assets/js/98.9f315a91.js"><link rel="prefetch" href="/time-corner/assets/js/99.30f87a57.js"><link rel="prefetch" href="/time-corner/assets/js/vendors~docsearch.5cc0b257.js">
    <link rel="stylesheet" href="/time-corner/assets/css/0.styles.0e7cd4b9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Time Corner</h3> <p class="description" data-v-59e6cb88>前端学习笔记</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/time-corner/" class="home-link router-link-active"><!----> <span class="site-name">Time Corner</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/time-corner/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/coder-yyz" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>113</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/time-corner/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      关于我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/coder-yyz" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/time-corner/" aria-current="page" class="sidebar-link">主页</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/低代码/" class="sidebar-heading clickable"><span>低代码</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/其他/" class="sidebar-heading clickable"><span>其他</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/前端基础/" class="sidebar-heading clickable open"><span>前端基础</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/time-corner/前端基础/DOM事件传播机制.html" class="active sidebar-link">DOM事件传播机制.md</a></li><li><a href="/time-corner/前端基础/DOM事件的注册和移除.html" class="sidebar-link">DOM事件的注册和移除.md</a></li><li><a href="/time-corner/前端基础/JS中的数据类型.html" class="sidebar-link">JS中的数据类型.md</a></li><li><a href="/time-corner/前端基础/JS数据类型转换.html" class="sidebar-link">JS数据类型转换.md</a></li><li><a href="/time-corner/前端基础/generator.html" class="sidebar-link">generator.md</a></li><li><a href="/time-corner/前端基础/package.json文件详解.html" class="sidebar-link">package.json文件详解.md</a></li><li><a href="/time-corner/前端基础/this指向.html" class="sidebar-link">this指向.md</a></li><li><a href="/time-corner/前端基础/var、let、const的区别.html" class="sidebar-link">var、let、const的区别.md</a></li><li><a href="/time-corner/前端基础/事件循环.html" class="sidebar-link">事件循环.md</a></li><li><a href="/time-corner/前端基础/作用域和作用域链.html" class="sidebar-link">作用域和作用域链.md</a></li><li><a href="/time-corner/前端基础/前端模块化.html" class="sidebar-link">前端模块化.md</a></li><li><a href="/time-corner/前端基础/包装类型.html" class="sidebar-link">包装类型.md</a></li><li><a href="/time-corner/前端基础/原型链.html" class="sidebar-link">原型链.md</a></li><li><a href="/time-corner/前端基础/垃圾回收和内存泄露.html" class="sidebar-link">垃圾回收和内存泄露.md</a></li><li><a href="/time-corner/前端基础/属性描述符.html" class="sidebar-link">属性描述符.md</a></li><li><a href="/time-corner/前端基础/执行栈和执行上下文.html" class="sidebar-link">执行栈和执行上下文.md</a></li><li><a href="/time-corner/前端基础/浏览器工作原理.html" class="sidebar-link">浏览器工作原理.md</a></li><li><a href="/time-corner/前端基础/闭包.html" class="sidebar-link">闭包.md</a></li><li><a href="/time-corner/前端基础/阻止事件默认行为.html" class="sidebar-link">阻止事件默认行为.md</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/手写实现/" class="sidebar-heading clickable"><span>手写实现</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/框架/" class="sidebar-heading clickable"><span>框架</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/算法/" class="sidebar-heading clickable"><span>算法</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/time-corner/面试/" class="sidebar-heading clickable"><span>面试</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">DOM 事件的传播机制</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="dom-事件的传播机制"><a href="#dom-事件的传播机制" class="header-anchor">#</a> <em>DOM</em> 事件的传播机制</h1> <h2 id="事件与事件流"><a href="#事件与事件流" class="header-anchor">#</a> 事件与事件流</h2> <p>事件最早是在 <em>IE3</em> 和 <em>NetscapeNavigator2</em> 中出现的，当时是作为分担服务器运算负担的一种手段。</p> <p>要实现和网页的互动，就需要通过 <em>JavaScript</em> 里面的事件来实现。</p> <p>每次用户与一个网页进行交互，例如点击链接，按下一个按键或者移动鼠标时，就会触发一个事件。我们的程序可以检测这些事件，然后对此作出响应。从而形成一种交互。</p> <p>这样可以使我们的页面变得更加的有意思，而不仅仅像以前一样只能进行浏览。</p> <p>在早期拨号上网的年代，如果所有的功能都放在服务器端进行处理的话，效率是非常低的。</p> <p>所以 <em>JavaScript</em> 最初被设计出来就是用来解决这些问题的。通过允许一些功能在客户端处理，以节省到服务器的往返时间。</p> <p><em>JavaScript</em> 中采用一个叫做事件监听器的东西来监听事件是否发生。这个事件监听器类似于一个通知，当事件发生时，事件监听器会让我们知道，然后程序就可以做出相应的响应。</p> <p>通过这种方式，就可以避免让程序不断地去检查事件是否发生，让程序在等待事件发生的同时，可以继续做其他的任务。</p> <h3 id="事件流"><a href="#事件流" class="header-anchor">#</a> 事件流</h3> <p>当浏览器发展到第 <em>4</em> 代时（<em>IE4</em> 及 <em>Netscape4</em>），浏览器开发团队遇到了一个很有意思的问题：页面的哪一部分会拥有某个特定的事件？</p> <p>想象在一张纸上的一组同心圆。如果把手指放在圆心上，那么手指指向的不是一个圆，而是纸上的所有圆。</p> <img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-10-02-094941.png" alt="image-20211002174941387" style="zoom:33%;"> <p>好在两家公司的浏览器开发团队在看待浏览器事件方面还是一致的。</p> <p>如果单击了某个按钮，他们都认为单击事件不仅仅发生在按钮上，甚至也单击了整个页面。</p> <p>但有意思的是，<em>IE</em> 和 <em>Netscape</em> 开发团队居然提出了差不多是完全相反的事件流的概念。</p> <p><em>IE</em> 的事件流是事件冒泡流，而 <em>Netscape</em> 的事件流是事件捕获流。</p> <h3 id="事件冒泡流"><a href="#事件冒泡流" class="header-anchor">#</a> 事件冒泡流</h3> <p><em>IE</em> 的事件流叫做事件冒泡（<em>event bubbling</em>），即事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收，然后逐级向上传播到较为不具体的节点（文档）。</p> <p>以下列 <em>HTML</em> 结构为例，来说明事件冒泡。如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果单击了页面中的 <em>div</em> 元素，那么这个 <em>click</em> 事件沿 <em>DOM</em> 树向上传播，在每一级节点上都会发生，按照如下顺序进行传播：</p> <ol><li><em>div</em></li> <li><em>body</em></li> <li><em>html</em></li> <li><em>document</em></li></ol> <p>所有现代浏览器都支持事件冒泡，但在具体实现在还是有一些差别。</p> <p><em>IE9、Firefox、Chrome、Safari</em> 将事件一直冒泡到 <em>window</em> 对象。</p> <p>我们可以通过下面的代码，来查看文档具体的冒泡顺序，示例如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span>100px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span>pink<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>还原<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// IE8 以下浏览器返回 div body html document</span>
<span class="token comment">// 其他浏览器返回 div body html document window</span>
reset<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'div\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'body\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'html\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'document\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'window\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上面的示例中，我们为 <em>div</em> 以及它的祖先元素绑定了点击事件，由于事件冒泡的存在，当我们点击 <em>div</em> 时，所有祖先元素的点击事件也会被触发。</p> <p>如下图所示：</p> <img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-10-02-092307.png" alt="image-20211002172307085" style="zoom:50%;"> <h3 id="事件捕获流"><a href="#事件捕获流" class="header-anchor">#</a> 事件捕获流</h3> <p><em>Netscape Communicator</em> 团队提出的另一种事件流叫做事件捕获（<em>event captruing</em>）。</p> <p>事件捕获的思想是不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件。</p> <p>事件捕获的思想是在事件到达预定目标之前就捕获它。</p> <p>以同样的 <em>HTML</em> 结构为例来说明事件捕获，如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在事件捕获过程中，<em>document</em> 对象首先接收到 <em>click</em> 事件，然后事件沿 <em>DOM</em> 树依次向下，一直传播到事件的实际目标，即 <em>div</em> 元素：</p> <ol><li><em>document</em></li> <li><em>html</em></li> <li><em>body</em></li> <li><em>div</em></li></ol> <p><em>IE9、Firefox、Chrome、Safari</em> 等现代浏览器都支持事件捕获，但是也是从 <em>window</em> 对象开始捕获。</p> <p>下面我们来演示一个事件捕获流的示例：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span>100px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>300px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span>pink<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reset<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>还原<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// IE8 以下浏览器不支持</span>
<span class="token comment">// 其他浏览器返回 window document html body div</span>
reset<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'div\n'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'body\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'html\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'document\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  box<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">'window\n'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面的示例中，我们为 <em>div</em> 以及它所有的祖先元素绑定了点击事件，使用的 <em>addEventListener</em> 的方式来绑定的事件，并将第 <em>2</em> 个参数设置为了 <em>true</em> 表示使用事件捕获的方式来触发事件。</p> <p>效果如下图所示：</p> <img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-10-02-093549.png" alt="image-20211002173549252" style="zoom:50%;"> <h3 id="标准-dom-事件流"><a href="#标准-dom-事件流" class="header-anchor">#</a> 标准 <em>DOM</em> 事件流</h3> <p><em>DOM</em> 标准采用的是<strong>捕获 + 冒泡</strong>的方式。</p> <p>两种事件流都会触发 <em>DOM</em> 的所有对象，从 <em>document</em> 对象开始，也在 <em>document</em> 对象结束。</p> <p>换句话说，起点和终点都是 <em>document</em> 对象（很多浏览器可以一直捕获 + 冒泡到 <em>window</em> 对象）</p> <p><em>DOM</em> 事件流示意图：</p> <img src="https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2021-10-02-094149.png" alt="image-20211002174148423" style="zoom:50%;"> <p><em>DOM</em> 标准规定事件流包括三个阶段：<strong>事件捕获阶段</strong>、<strong>处于目标阶段</strong>和<strong>事件冒泡阶段</strong>。</p> <ul><li>**事件捕获阶段：**实际目标 <em>div</em> 在捕获阶段不会触发事件。捕获阶段从 <em>window</em> 开始，然后到 <em>document、html</em>，最后到 <em>body</em> 意味着捕获阶段结束。</li> <li>**处于目标阶段：**事件在 <em>div</em> 上发生并处理，但是本次事件处理会被看成是冒泡阶段的一部分。</li> <li>**冒泡阶段：**事件又传播回文档。</li></ul> <h2 id="事件委托"><a href="#事件委托" class="header-anchor">#</a> 事件委托</h2> <p>上面介绍了事件冒泡流，事件冒泡一个最大的好处就是可以实现事件委托。</p> <p>事件委托，又被称之为事件代理。在 <em>JavaScript</em> 中，添加到页面上的事件处理程序数量将直接关系到页面整体的运行性能。导致这一问题的原因是多方面的。</p> <p>首先，每个函数都是对象，都会占用内存。内存中的对象越多，性能就越差。其次，必须事先指定所有事件处理程序而导致的 <em>DOM</em> 访问次数，会延迟整个页面的交互就绪时间。</p> <p>对事件处理程序过多问题的解决方案就是事件委托。</p> <p>事件委托利用了事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。</p> <p>例如，<em>click</em> 事件会一直冒泡到 <em>document</em> 层次。也就是说，我们可以为整个页面指定一个 <em>onclick</em> 事件处理程序，而不必给每个可单击的元素分别添加事件处理程序。</p> <p>举一个具体的例子，例如现在我的列表项有如下内容：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>yellow<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>blue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>green<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>black<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>white<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果我们想把事件监听器绑定到所有的 <em>li</em> 元素上面，这样它们被单击的时候就弹出一些文字，为此我们需要给每一个元素来绑定一个事件监听器。</p> <p>虽然上面的例子中好像问题也不大，但是想象一下如果这个列表有 <em>100</em> 个元素，那我们就需要添加 <em>100</em> 个事件监听器，这个工作量还是很恐怖的。</p> <p>这个时候我们就可以利用事件代理来帮助我们解决这个问题。</p> <p>将事件监听器绑定到父元素 <em>ul</em> 上，这样即可对所有的 <em>li</em> 元素添加事件，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> colorList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;color-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colorList<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>现在我们单击列表中的任何一个 <em>li</em> 都会弹出东西，就好像这些 <em>li</em> 元素就是 <em>click</em> 事件的目标一样。</p> <p>并且如果我们之后再为这个 <em>ul</em> 添加新的 <em>li</em> 元素的话，新的 <em>li</em> 元素也会自动添加上相同的事件。</p> <p>但是，这个时候也存在一个问题，虽然我们使用事件代理避免了为每一个 <em>li</em> 元素添加相同的事件，但是如果用户没有点击 <em>li</em>，而是点击的 <em>ul</em>，同样也会触发事件。</p> <p>这也很正常，因为我们事件就是绑定在 <em>ul</em> 上面的。</p> <p>此时我们可以对点击的节点进行一个小小的判断，从而保证用户只在点击 <em>li</em> 的时候才触发事件，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> colorList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;color-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colorList<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">===</span> <span class="token string">'LI'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点击 li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="真题解答"><a href="#真题解答" class="header-anchor">#</a> 真题解答</h2> <ul><li>谈一谈事件委托以及冒泡原理</li></ul> <blockquote><p>参考答案：</p> <p>事件委托，又被称之为事件代理。在 <em>JavaScript</em> 中，添加到页面上的事件处理程序数量将直接关系到页面整体的运行性能。导致这一问题的原因是多方面的。</p> <p>首先，每个函数都是对象，都会占用内存。内存中的对象越多，性能就越差。其次，必须事先指定所有事件处理程序而导致的 <em>DOM</em> 访问次数，会延迟整个页面的交互就绪时间。</p> <p>对事件处理程序过多问题的解决方案就是事件委托。</p> <p>事件委托利用了事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。例如，<em>click</em> 事件会一直冒泡到 <em>document</em> 层次。也就是说，我们可以为整个页面指定一个 <em>onclick</em> 事件处理程序，而不必给每个可单击的元素分别添加事件处理程序。</p> <p>事件冒泡（<em>event bubbling</em>），是指事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收，然后逐级向上传播到较为不具体的节点（文档）。</p></blockquote></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/time-corner/其他/正则.html" class="prev">
          正则.md
        </a></span> <span class="next"><a href="/time-corner/前端基础/DOM事件的注册和移除.html">
          DOM事件的注册和移除.md
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#事件与事件流" class="sidebar-link reco-side-事件与事件流" data-v-b57cc07c>事件与事件流</a></li><li class="level-3" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#事件流" class="sidebar-link reco-side-事件流" data-v-b57cc07c>事件流</a></li><li class="level-3" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#事件冒泡流" class="sidebar-link reco-side-事件冒泡流" data-v-b57cc07c>事件冒泡流</a></li><li class="level-3" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#事件捕获流" class="sidebar-link reco-side-事件捕获流" data-v-b57cc07c>事件捕获流</a></li><li class="level-3" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#标准-dom-事件流" class="sidebar-link reco-side-标准-dom-事件流" data-v-b57cc07c>标准 DOM 事件流</a></li><li class="level-2" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#事件委托" class="sidebar-link reco-side-事件委托" data-v-b57cc07c>事件委托</a></li><li class="level-2" data-v-b57cc07c><a href="/time-corner/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/DOM%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD%E6%9C%BA%E5%88%B6.html#真题解答" class="sidebar-link reco-side-真题解答" data-v-b57cc07c>真题解答</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/time-corner/assets/js/app.781301b2.js" defer></script><script src="/time-corner/assets/js/7.ebedf390.js" defer></script><script src="/time-corner/assets/js/2.822065f6.js" defer></script><script src="/time-corner/assets/js/1.21d801e1.js" defer></script><script src="/time-corner/assets/js/46.af198b0c.js" defer></script>
  </body>
</html>
